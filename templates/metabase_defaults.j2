# Defaults file for {{ metabase_install_dir }}/metabase.jar (used in systemd config at /etc/systemd/system/metabase.service)
# Docs https://www.metabase.com/docs/latest/operations-guide/running-metabase-on-debian.html#the-metabase-config-file

# Matabase PW policy
MB_PASSWORD_COMPLEXITY={{ metabase_password_complexity }}
MB_PASSWORD_LENGTH={{ metabase_password_length }}

# Metabase Jetty settings
# Docs: https://www.metabase.com/docs/latest/operations-guide/customizing-jetty-webserver.html
MB_JETTY_HOST={{ metabase_listen_host }}
MB_JETTY_PORT={{ metabase_port }}

# Settings DB for Metabase
# Docs: https://www.metabase.com/docs/latest/operations-guide/configuring-application-database.html

MB_DB_TYPE={{ metabase_settings_db_type }}
{% if metabase_settings_db_type == 'h2' %}
MB_DB_FILE={{ metabase_settings_db_file }}
{% else %}
MB_DB_DBNAME=metabase_settings
MB_DB_PORT={{ metabase_settings_db_port }}
MB_DB_HOST={{ metabase_settings_db_host }}
MB_DB_USER={{ metabase_settings_user }}
MB_DB_PASS={{ metabase_settings_pass }}
{% endif %}

# Log settings
MB_EMOJI_IN_LOGS=false
